function initMap(){var e=new google.maps.Map(document.getElementById("map"),{zoom:14,center:{lat:40.7831,lng:-73.9712}}),n=new XMLHttpRequest;n.open("GET","https://nextbike.net/maps/nextbike-official.json",!1),n.send();var t,o=JSON.parse(n.responseText),a=o.countries;$(a).each(function(e,n){$(n.cities).each(function(e,n){$(city_select).append("<option value="+n.lat+","+n.lng+">"+n.name+"</option>")})}),$(function(){$("#city_select").on("change",function(){var n=this.value.split(",");$(a).each(function(e,n){$(n.cities).each(function(e,n){n.name===$("#city_select option:selected").text()&&(t=n.places)})}),e=new google.maps.Map(document.getElementById("map"),{zoom:14,center:{lat:Number(n[0]),lng:Number(n[1])}}),infowindow=new google.maps.InfoWindow;var o;for(i in t)o=new google.maps.Marker({position:new google.maps.LatLng(t[i].lat,t[i].lng),map:e}),content=t[i].name+" - Bikes available: "+t[i].bikes,google.maps.event.addListener(o,"click",function(n,t,o){return function(){o.close(),o.setContent(t),o.open(e,n)}}(o,content,infowindow))})})}